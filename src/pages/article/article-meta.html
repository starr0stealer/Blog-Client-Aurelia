<template>
  <div class="article-meta">
    <a route-href="route: profile; params.bind: {name: article.author.username}">
      <profile-image profile.bind="article.author"></profile-image>
    </a>
    <div class="info">
      <a class="author" route-href="route: profile; params.bind: {name: article.author.username}">
        ${article.author.username}
      </a>
      <span class="date">
        ${article.createdAt | date}
      </span>
    </div>
    <span if.bind="canModify">
      <a class="btn btn-sm btn-outline-secondary"
         route-href="route: editor; params.bind: {slug: article.slug}">
        <i class="fa fa-pencil"></i>
        &nbsp;Edit Article
      </a>
      &nbsp;&nbsp;
      <button type="button" class="btn btn-sm btn-outline-danger" click.delegate="deleteArticle()">
        <i class="fa fa-trash"></i>
        &nbsp;Delete Article
      </button>
    </span>
    <span if.bind="!canModify">
      <follow-button user.bind="article.author"></follow-button>
      &nbsp;&nbsp;
      <favorite-button article.bind="article">
        &nbsp;(${article.favoritesCount})
      </favorite-button>
    </span>
  </div>
</template>
