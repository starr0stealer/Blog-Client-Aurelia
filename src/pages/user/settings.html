<template>
  <section class="settings-page">
    <div class="container page">
      <div class="row">
        <div class="col-xs-12 col-md-10 offset-md-1 text-center">
          <profile-image image-class="user-img" profile.bind="profile"></profile-image>
        </div>
      </div>
      <div class="row">
        <div class="col-md-6 offset-md-3 col-xs-12">
          <h1 class="text-center">
            Your Settings
          </h1>
          <error-list errors.bind="errors"></error-list>
          <form submit.delegate="update()">
            <div class="form-group">
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="imageType"
                       id="image-radio" value="image" checked.bind="imageType">
                <label class="form-check-label" for="image-radio">
                  Image
                </label>
              </div>
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="imageType"
                       id="url-radio" value="url" checked.bind="imageType">
                <label class="form-check-label" for="url-radio">
                  URL
                </label>
              </div>
              <small class="text-muted">
                Use an Image or a URL?
              </small>
            </div>
            <div class="custom-file mb-3" show.bind="imageType === 'image'">
              <input type="file" class="custom-file-input" id="image-input"
                     accept="image/*" change.delegate="imageSelected($event)">
              <label class="custom-file-label" for="image-input">
                Choose file
              </label>
            </div>
            <div class="form-group" show.bind="imageType === 'url'">
              <input type="text" class="form-control" placeholder="URL of profile picture"
                     value.bind="profile.image">
            </div>
            <div class="form-group">
              <input type="text" class="form-control form-control-lg" placeholder="Username"
                     value.bind="profile.username & validate">
            </div>
            <div class="form-group">
              <textarea class="form-control form-control-lg" rows="8" placeholder="Bio"
                        value.bind="profile.bio"></textarea>
            </div>
            <div class="form-group">
              <input type="text" class="form-control form-control-lg" placeholder="Email"
                     value.bind="profile.email & validate">
            </div>
            <div class="form-group">
              <input type="password" class="form-control form-control-lg" placeholder="Password"
                     value.bind="profile.password & validate">
            </div>
            <button type="submit" class="btn btn-lg btn-primary float-right" disabled.bind="!canSave">
              Update Settings
            </button>
          </form>
        </div>
      </div>
    </div>
  </section>
</template>
